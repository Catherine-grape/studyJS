<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        html,
        body {
            width: 100%;
            height: 100%;
        }

        #box {
            position: absolute;
            background: linear-gradient(-45deg, red, yellow);
        }
    </style>
</head>

<body>
    <script>
        let body = document.body;
        let box;
        window.onmousedown = function (e) {
            box = document.createElement('div');
            box.id = 'box';
            body.appendChild(box);
            let left = e.clientX;
            let topH = e.clientY;
            box.style.left = left + 'px';
            box.style.top = topH + 'px';
            body.onmousemove = function (e) {
                let X = e.clientX;
                let Y = e.clientY;
                let mx = X - left;
                let my = Y - topH;
                if (mx < 0 && my < 0) {
                    box.style.left = X + 'px';
                    box.style.top = Y + 'px';
                    box.style.width = -mx + 'px';
                    box.style.height = -my + 'px';
                }
                if (mx < 0 && my > 0) {
                    box.style.width = -mx + 'px';
                    box.style.left = X + 'px';
                }
                if (mx > 0 && my < 0) {
                    box.style.height = -my + 'px';
                    box.style.top = Y + 'px';
                }
                box.style.width = mx + 'px';
                box.style.height = my + 'px';
            }
        }
        window.onmouseup = function () {
            body.onmousemove = null;
            box.style.display = 'none';
        }
    </script>
</body>

</html>