{"remainingRequest":"/Users/fivegl/Desktop/demo/node_modules/babel-loader/lib/index.js!/Users/fivegl/Desktop/demo/node_modules/eslint-loader/index.js??ref--13-0!/Users/fivegl/Desktop/demo/src/router/index.js","dependencies":[{"path":"/Users/fivegl/Desktop/demo/src/router/index.js","mtime":1619689923380},{"path":"/Users/fivegl/Desktop/demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fivegl/Desktop/demo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fivegl/Desktop/demo/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport store from \"../store\";\nimport customer from \"../pages/customer\";\nimport customerList from \"../pages/customer/customerList.vue\";\nimport customerAdd from \"../pages/customer/customerAdd.vue\";\nimport customerModel from \"./customer\"; // '@/pages/customer/customerAdd.vue'   @代表src，使用@没有提示\n\nimport organize from \"../pages/organize\";\nimport noFound from \"../pages/notFound\";\nVue.use(VueRouter);\nvar router = new VueRouter({\n  routes: [{\n    path: '/',\n    redirect: '/customer'\n  }, {\n    path: '/customer',\n    component: customer,\n    children:\n    /* [\n    {\n    path: 'list',\n    component:customerList\n    },\n    {\n    path: 'add',\n    component:customerAdd\n    }\n    ] */\n    customerModel\n  }, {\n    path: '/organize',\n    component: organize,\n    children: [],\n\n    /*             beforeEnter: (to, from, next) => {\n                    console.log('即将进入组织解构页面');\n                    // 假设当前用户的power里有userhandle字段的时候才可以进入组织结构的组件\n                    console.log(store.state.power);\n                    let power = store.state.power\n                    if (power.includes('userhandle')) {\n                        next();\n                    } else {\n                        Vue.prototype.$message.error('不好意思您当前无权操作');\n                    }\n                    \n                }\n     */\n    meta: {\n      isCheck: true,\n      flag: 'userhandle'\n    }\n  }, {\n    path: '*',\n    component: noFound\n  }]\n});\nrouter.beforeEach(function (to, from, next) {\n  // 此函数叫做全局的前置导航守卫\n  // 它会监听所有的路由，在路由跳转成功之前会执行此函数\n  // to是即将到达的路由信息\n  // from是你从哪里来的路由信息\n  // 如果不执行next函数的话，那路由跳转将会被终止.适宜权限校验，没有next执行都不展示\n  // console.log(123);\n  // next()//什么都不传就正常跳转\n  var power = store.state.power;\n  console.log(to);\n  var meta = to.meta;\n\n  if (meta.isCheck) {\n    if (power.includes(meta.flag)) {\n      next();\n    } else {\n      Vue.prototype.$message.error('不好意思您当前无权操作');\n    }\n  } else {\n    next();\n  }\n});\nexport default router;",{"version":3,"sources":["/Users/fivegl/Desktop/demo/src/router/index.js"],"names":["Vue","VueRouter","store","customer","customerList","customerAdd","customerModel","organize","noFound","use","router","routes","path","redirect","component","children","meta","isCheck","flag","beforeEach","to","from","next","power","state","console","log","includes","prototype","$message","error"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP;AACA,OAAOC,QAAP;AACA,OAAOC,YAAP;AACA,OAAOC,WAAP;AACA,OAAOC,aAAP,mB,CACA;;AAEA,OAAOC,QAAP;AACA,OAAOC,OAAP;AACAR,GAAG,CAACS,GAAJ,CAAQR,SAAR;AAGI,IAAMS,MAAM,GAAC,IAAIT,SAAJ,CAAc;AAC3BU,EAAAA,MAAM,EAAE,CACJ;AACIC,IAAAA,IAAI,EAAE,GADV;AAEIC,IAAAA,QAAQ,EAAE;AAFd,GADI,EAKJ;AACID,IAAAA,IAAI,EAAE,WADV;AAEIE,IAAAA,SAAS,EAAEX,QAFf;AAGIY,IAAAA,QAAQ;AAAE;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAiBT,IAAAA;AAZT,GALI,EAoBJ;AACIM,IAAAA,IAAI,EAAE,WADV;AAEIE,IAAAA,SAAS,EAAEP,QAFf;AAGIQ,IAAAA,QAAQ,EAAE,EAHd;;AAIR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACYC,IAAAA,IAAI,EAAE;AACFC,MAAAA,OAAO,EAAE,IADP;AAEFC,MAAAA,IAAI,EAAC;AAFH;AAjBV,GApBI,EA0CJ;AACIN,IAAAA,IAAI,EAAE,GADV;AAEIE,IAAAA,SAAS,EAAEN;AAFf,GA1CI;AADmB,CAAd,CAAb;AAiDJE,MAAM,CAACS,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAIC,KAAK,GAAGrB,KAAK,CAACsB,KAAN,CAAYD,KAAxB;AACAE,EAAAA,OAAO,CAACC,GAAR,CAAYN,EAAZ;AACA,MAAIJ,IAAI,GAACI,EAAE,CAACJ,IAAZ;;AACA,MAAIA,IAAI,CAACC,OAAT,EAAkB;AACd,QAAIM,KAAK,CAACI,QAAN,CAAeX,IAAI,CAACE,IAApB,CAAJ,EAA+B;AAC3BI,MAAAA,IAAI;AACP,KAFD,MAEO;AACHtB,MAAAA,GAAG,CAAC4B,SAAJ,CAAcC,QAAd,CAAuBC,KAAvB,CAA6B,aAA7B;AACH;AACJ,GAND,MAMO;AACHR,IAAAA,IAAI;AACP;AACJ,CApBD;AAqBA,eAAeZ,MAAf","sourcesContent":["import Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport store from '../store'\nimport customer from '../pages/customer';\nimport customerList from '../pages/customer/customerList.vue';\nimport customerAdd from '../pages/customer/customerAdd.vue';\nimport customerModel from './customer'\n// '@/pages/customer/customerAdd.vue'   @代表src，使用@没有提示\n\nimport organize from '../pages/organize';\nimport noFound from '../pages/notFound';\nVue.use(VueRouter);\n\n\n    const router=new VueRouter({\n    routes: [\n        {\n            path: '/',\n            redirect: '/customer',\n        },\n        {\n            path: '/customer',\n            component: customer,\n            children: /* [\n                {\n                    path: 'list',\n                    component:customerList\n                },\n                {\n                    path: 'add',\n                    component:customerAdd\n                }\n            ] */ customerModel,\n            \n        },\n        {\n            path: '/organize',\n            component: organize,\n            children: [],\n/*             beforeEnter: (to, from, next) => {\n                console.log('即将进入组织解构页面');\n                // 假设当前用户的power里有userhandle字段的时候才可以进入组织结构的组件\n                console.log(store.state.power);\n                let power = store.state.power\n                if (power.includes('userhandle')) {\n                    next();\n                } else {\n                    Vue.prototype.$message.error('不好意思您当前无权操作');\n                }\n                \n            }\n */\n            meta: {\n                isCheck: true,\n                flag:'userhandle'\n            }\n            },\n        {\n            path: '*',\n            component: noFound\n        }\n    ]\n    });\nrouter.beforeEach((to, from, next) => {\n    // 此函数叫做全局的前置导航守卫\n    // 它会监听所有的路由，在路由跳转成功之前会执行此函数\n    // to是即将到达的路由信息\n    // from是你从哪里来的路由信息\n    // 如果不执行next函数的话，那路由跳转将会被终止.适宜权限校验，没有next执行都不展示\n    // console.log(123);\n    // next()//什么都不传就正常跳转\n    let power = store.state.power;\n    console.log(to);\n    let meta=to.meta\n    if (meta.isCheck) {\n        if (power.includes(meta.flag)) {\n            next();\n        } else {\n            Vue.prototype.$message.error('不好意思您当前无权操作');\n        }\n    } else {\n        next()\n    }\n})\nexport default router"]}]}